<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<?import javafx.scene.shape.Rectangle?>
<StackPane xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23" fx:controller="com.lightlibrary.Controllers.GameController" style="-fx-background-color: #DED47D;">
    <!-- Canvas để vẽ trò chơi -->
    <Canvas fx:id="gameCanvas" height="640" width="960" />

    <!-- Label để hiển thị điểm số -->
    <Label fx:id="scoreLabel" style="-fx-font-size: 18;" text="Score: 0" StackPane.alignment="TOP_RIGHT" />

    <!-- Hiển thị số máu của người chơi -->
    <HBox spacing="5" StackPane.alignment="TOP_LEFT">
        <ImageView fx:id="heart1" fitHeight="30" fitWidth="30">
            <image>
                <Image url="@../Images/Game/heart.jpg" />
            </image>
        </ImageView>
        <ImageView fx:id="heart2" fitHeight="30" fitWidth="30">
            <image>
                <Image url="@../Images/Game/heart.jpg" />
            </image>
        </ImageView>
        <ImageView fx:id="heart3" fitHeight="30" fitWidth="30">
            <image>
                <Image url="@../Images/Game/heart.jpg" />
            </image>
        </ImageView>
    </HBox>

    <!-- Menu tạm dừng -->
    <VBox fx:id="pauseMenu" alignment="CENTER" spacing="20" style="-fx-background-color: rgba(0, 0, 0, 0.5); -fx-padding: 20; -fx-background-radius: 10;" visible="false">
        <StackPane>
            <Rectangle width="150" height="50" fill="black" arcWidth="10" arcHeight="10" />
            <Label text="PAUSED" style="-fx-font-size: 24; -fx-text-fill: white; -fx-background-color: rgba(0, 0, 0, 0.8);" />
        </StackPane>

        <StackPane>
            <Rectangle width="150" height="50" fill="white" arcWidth="10" arcHeight="10" />
            <Button text="↻ Restart" onMouseClicked="#handleRestartButtonClick"
                    style="-fx-font-size: 18; -fx-background-color: transparent; -fx-text-fill: black; -fx-background-radius: 10; -fx-padding: 10;" />
        </StackPane>
        <StackPane>
            <Rectangle width="150" height="50" fill="white" arcWidth="10" arcHeight="10" />
            <Button text="▷ Continue" onMouseClicked="#handleResumeButtonClick"
                    style="-fx-font-size: 18; -fx-background-color: transparent; -fx-text-fill: black; -fx-background-radius: 10; -fx-padding: 10;" />
        </StackPane>
        <StackPane>
            <Rectangle width="150" height="50" fill="white" arcWidth="10" arcHeight="10" />
            <Button text="≡ Dashboard" onMouseClicked="#handleReturnButtonClick"
                    style="-fx-font-size: 18; -fx-background-color: transparent; -fx-text-fill: black; -fx-background-radius: 10; -fx-padding: 10;" />
        </StackPane>
    </VBox>

    <!-- Menu Game Over -->
    <VBox fx:id="gameOverMenu" alignment="CENTER" spacing="20" style="-fx-background-color: rgba(0, 0, 0, 0.5); -fx-padding: 20; -fx-background-radius: 10;" visible="false">
        <StackPane>
            <Rectangle width="150" height="50" fill="black" arcWidth="10" arcHeight="10" />
            <Label text="GAME OVER" style="-fx-font-size: 24; -fx-text-fill: white; -fx-background-color: rgba(0, 0, 0, 0.8);" />
        </StackPane>

        <StackPane>
            <Rectangle width="150" height="50" fill="white" arcWidth="10" arcHeight="10" />
            <Button text="↻ Retry" onMouseClicked="#handleRetryButtonClick"
                    style="-fx-font-size: 18; -fx-background-color: transparent; -fx-text-fill: black; -fx-background-radius: 10; -fx-padding: 10;" />
        </StackPane>

        <StackPane>
            <Rectangle width="150" height="50" fill="white" arcWidth="10" arcHeight="10" />
            <Button text="≡ Dashboard" onMouseClicked="#handleReturnButtonClick"
                    style="-fx-font-size: 18; -fx-background-color: transparent; -fx-text-fill: black; -fx-background-radius: 10; -fx-padding: 10;" />
        </StackPane>
    </VBox>
</StackPane>
